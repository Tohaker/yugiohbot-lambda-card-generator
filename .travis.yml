language: python
python:
  - "3.7"

env:
  - PYTHONPATH=yugiohbot

addons:
  apt:
    update: true

before_install:
  - sudo apt-get install -y zip unzip chromium-browser
  - mkdir -p ~/bin
  - curl -SL https://chromedriver.storage.googleapis.com/77.0.3865.40/chromedriver_linux64.zip > chromedriver.zip
  - unzip chromedriver.zip -d ~/bin/
  - chmod +x ~/bin/chromedriver
  - cp /usr/bin/chromium-browser ~/bin/
  - pip install -r requirements.txt

install:
  - pytest --cov=./

after_install:
  - codecov
